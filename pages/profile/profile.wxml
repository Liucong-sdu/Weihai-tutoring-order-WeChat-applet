<!-- pages/profile/profile.wxml -->
<view class="container">
    <!-- 用户信息卡片 -->
    <view class="user-card">
        <image class="avatar" src="{{userInfo.avatarUrl}}" mode="aspectFill"></image>
        <text class="nickname">{{userInfo.nickname}}</text>
    </view>
    <!-- 个人信息设置 -->
    <view class="info-section">
        <view class="section-title">个人信息</view>
        <!-- 手机号 -->
        <view class="info-item">
            <text class="label">手机号码</text>
            <input class="input" type="number" placeholder="请填写您的手机号" value="{{phone}}" bindinput="onPhoneInput" maxlength="11" />
        </view>
        <button class="save-btn {{phoneChanged ? '' : 'disabled'}}" bindtap="savePhone" disabled="{{!phoneChanged}}">
            {{saving ? '保存中...' : '保存手机号'}}
        </button>
        <view class="tip-text">* 填写手机号后，管理员可通过此号码联系您</view>
    </view>
    <!-- 统计信息 -->
    <view class="stats-section">
        <view class="section-title">我的统计</view>
        <view class="stats-grid">
            <view class="stat-item">
                <text class="stat-value">{{demandCount}}</text>
                <text class="stat-label">需求总数</text>
            </view>
            <view class="stat-item">
                <text class="stat-value">{{pendingCount}}</text>
                <text class="stat-label">待处理</text>
            </view>
            <view class="stat-item">
                <text class="stat-value">{{matchedCount}}</text>
                <text class="stat-label">已匹配</text>
            </view>
        </view>
    </view>
    <!-- 操作按钮 -->
    <view class="action-section">
        <button class="action-btn" bindtap="goToSubmit">发布新需求</button>
        <button class="action-btn secondary" bindtap="goToDemandList">查看我的需求</button>
    </view>
</view>